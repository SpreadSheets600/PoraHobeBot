<!DOCTYPE html>
<html lang="en" data-theme="dark">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Frontpage Form</title>
		<link rel="stylesheet" href="../static/dist/output.css" />
		<script>
			tailwind.config = {
				theme: {
					extend: {
						animation: {
							"fade-in": "fadeIn 0.5s ease-in-out",
						},
						keyframes: {
							fadeIn: {
								"0%": { opacity: "0" },
								"100%": { opacity: "1" },
							},
						},
					},
				},
				daisyui: {
					themes: ["light", "dark"],
				},
			};
		</script>
	</head>
	<body class="bg-base-200 min-h-screen p-2 sm:p-4 transition-colors duration-300">
		<div class="navbar bg-base-100 border border-base-300 rounded-box mb-4 sticky top-0 z-10">
			<div class="flex-1">
				<a href="/" class="btn btn-ghost normal-case text-xl">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 md:mr-2">
						<path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" />
					</svg>
					<span class="hidden sm:inline">PoraHobe</span>
				</a>
			</div>
			<div class="flex-none flex items-center gap-4">
				<a href="/notes" class="btn btn-primary btn-sm sm:btn-md">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />
					</svg>
					<span class="hidden sm:inline">All Notes</span>
				</a>
				<a href="/frontpages" class="btn btn-primary btn-sm sm:btn-md">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z" />
					</svg>
					<span class="hidden sm:inline">Front Pages</span>
				</a>
				{% if user_id %}
				<div class="dropdown dropdown-end">
					<label tabindex="0" class="btn btn-ghost btn-circle avatar">
						<div class="w-10 rounded-full">
							<img src="{{ avatar_url }}" alt="avatar" />
						</div>
					</label>
					<ul tabindex="0" class="menu menu-sm dropdown-content mt-4 z-[1] p-2 shadow bg-base-100 rounded-box w-52 border border-base-300">
						<li class="p-2">
							<div class="font-bold">{{ username }}</div>
							<div class="text-xs opacity-60">ID : {{ user_id }}</div>
						</li>
						<div class="divider my-0"></div>
						<li><a href="/logout">Logout</a></li>
					</ul>
				</div>
				{% endif %}
			</div>
		</div>
		<div class="card w-full max-w-lg mx-auto bg-base-100 shadow-2xl border border-base-300 rounded-2xl mt-4">
			<div class="card-body p-6 sm:p-8">
				<div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8">
					<h2 class="text-3xl font-bold text-primary flex items-center gap-2 justify-center w-full text-center">
						<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
						</svg>
						Frontpage Form
					</h2>
				</div>
				<form method="POST" class="space-y-6" id="frontpage-form" autocomplete="off">
					<div>
						<label class="block font-semibold mb-1">Name</label>
						<input type="text" name="name" id="name" required class="input input-bordered w-full rounded-lg" placeholder="Enter your name" />
					</div>
					<div>
						<label class="block font-semibold mb-1">Roll No.</label>
						<input type="text" name="roll" id="roll" required class="input input-bordered w-full rounded-lg" placeholder="Enter your roll number" />
					</div>
					<div>
						<label class="block font-semibold mb-1">Reg No.</label>
						<input type="text" name="reg" id="reg" required class="input input-bordered w-full rounded-lg" placeholder="Enter your registration number" />
					</div>
					<div>
						<label class="block font-semibold mb-1">Stream</label>
						<input type="text" name="stream" id="stream" required class="input input-bordered w-full rounded-lg" placeholder="Enter your stream (e.g. CSE)" />
					</div>
					<div>
						<label class="block font-semibold mb-1">Section</label>
						<input type="text" name="section" id="section" required class="input input-bordered w-full rounded-lg" placeholder="Enter your section" />
					</div>
					<div>
						<label class="block font-semibold mb-1">Semester</label>
						<select name="semester" id="semester" required class="select select-bordered w-full rounded-lg">
							<option value="">Select Semester</option>
							<option value="1">1st</option>
							<option value="2">2nd</option>
							<option value="3">3rd</option>
							<option value="4">4th</option>
							<option value="5">5th</option>
							<option value="6">6th</option>
							<option value="7">7th</option>
							<option value="8">8th</option>
						</select>
					</div>
					<div>
						<label class="block font-semibold mb-1">Year</label>
						<select name="year" id="year" required class="select select-bordered w-full rounded-lg">
							<option value="">Select Year</option>
							<option value="1">1st</option>
							<option value="2">2nd</option>
							<option value="3">3rd</option>
							<option value="4">4th</option>
						</select>
					</div>
					<div>
						<label class="block font-semibold mb-1">Subject</label>
						<select name="subject" id="subject" required class="select select-bordered w-full rounded-lg">
							<option value="">Select Subject</option>
							{% for subject in subjects %}
							<option value="{{ subject }}">{{ subject }}</option>
							{% endfor %}
						</select>
					</div>
					<button type="submit" class="btn btn-primary w-full rounded-lg shadow">Submit</button>
				</form>
				<script>
					document.getElementById("frontpage-form").addEventListener("submit", function (e) {
						let valid = true;
						let msg = "";

						const name = document.getElementById("name").value.trim();
						const roll = document.getElementById("roll").value.trim();
						const reg = document.getElementById("reg").value.trim();
						const stream = document.getElementById("stream").value.trim();
						const section = document.getElementById("section").value.trim();
						const semester = document.getElementById("semester").value;
						const year = document.getElementById("year").value;
						const subject = document.getElementById("subject").value;

						if (!name) {
							valid = false;
							msg = "Name Is Required.";
						} else if (!roll) {
							valid = false;
							msg = "Roll No. Is Required.";
						} else if (!reg) {
							valid = false;
							msg = "Reg No. Is Required.";
						} else if (!stream) {
							valid = false;
							msg = "Stream Is Required.";
						} else if (!section) {
							valid = false;
							msg = "Section Is Required.";
						} else if (!semester || isNaN(semester) || semester < 1 || semester > 8) {
							valid = false;
							msg = "Please Select A Valid Semester.";
						} else if (!year || isNaN(year) || year < 1 || year > 4) {
							valid = false;
							msg = "Please Select A Valid Year.";
						} else if (!subject) {
							valid = false;
							msg = "Subject Is Required.";
						}
						if (!valid) {
							e.preventDefault();
							alert(msg);
						}
					});
				</script>
			</div>
		</div>
	</body>
</html>
