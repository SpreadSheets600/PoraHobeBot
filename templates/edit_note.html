<!DOCTYPE html>
<html lang="en">


<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Edit Note</title>
  <link rel="stylesheet" href="../static/dist/output.css">
</head>


<body class="bg-base-200 min-h-screen p-2 sm:p-4 transition-colors duration-300">
  <div class="navbar bg-base-100 border border-base-300 rounded-box mb-4 sticky top-0 z-10">
			<div class="flex-1">
				<a href="/" class="btn btn-ghost normal-case text-xl">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 md:mr-2">
						<path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" />
					</svg>
					<span class="hidden sm:inline">PoraHobe</span>
				</a>
			</div>
			<div class="flex-none flex items-center gap-4">
				<a href="/notes" class="btn btn-primary btn-sm sm:btn-md">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />
					</svg>
					<span class="hidden sm:inline">All Notes</span>
				</a>
				<a href="/frontpages" class="btn btn-primary btn-sm sm:btn-md">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 0 1-2.25 2.25M16.5 7.5V18a2.25 2.25 0 0 0 2.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 0 0 2.25 2.25h13.5M6 7.5h3v3H6v-3Z" />
					</svg>
					<span class="hidden sm:inline">Front Pages</span>
				</a>
				{% if user_id %}
				<div class="dropdown dropdown-end">
					<label tabindex="0" class="btn btn-ghost btn-circle avatar">
						<div class="w-10 rounded-full">
							<img src="{{ avatar_url }}" alt="avatar" />
						</div>
					</label>
					<ul tabindex="0" class="menu menu-sm dropdown-content mt-4 z-[1] p-2 shadow bg-base-100 rounded-box w-52 border border-base-300">
						<li class="p-2">
							<div class="font-bold">{{ username }}</div>
							<div class="text-xs opacity-60">ID : {{ user_id }}</div>
						</li>
						<div class="divider my-0"></div>
						<li><a href="/logout">Logout</a></li>
					</ul>
				</div>
				{% endif %}
			</div>
		</div>
  <div class="card w-full max-w-lg mx-auto bg-base-100 shadow-2xl border border-base-300 rounded-2xl mt-4">
    <div class="card-body p-6 sm:p-8">
      <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8">
        <h2 class="text-3xl font-bold text-primary flex items-center gap-2 justify-center w-full text-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-primary" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
          </svg>
          Edit Note
        </h2>
      </div>
      <form method="post" class="space-y-6">
        <div>
          <label class="block font-semibold mb-1">Title</label>
          <input type="text" name="title" value="{{ note['title'] }}" required
            class="input input-bordered w-full rounded-lg" />
        </div>
        <div>
          <label class="block font-semibold mb-1">Content</label>
          <textarea name="content" rows="4"
            class="textarea textarea-bordered w-full rounded-lg">{{ note['content'] }}</textarea>
        </div>
        <div>
          <label class="block font-semibold mb-1">File URL</label>
          <input type="url" name="file_url" value="{{ note['file_url'] }}"
            class="input input-bordered w-full rounded-lg" />
        </div>
        <div>
          <label class="block font-semibold mb-1">Subject Tag</label>
          <select name="tags" class="select select-bordered w-full rounded-lg">
            {% set all_subjects = ['c', 'dsa', 'math', 'python', 'economics', 'electronics', 'computer organization'] %}
            {% for subject in all_subjects %}
            <option value="{{ subject }}" {% if note['tags']==subject %}selected{% endif %}>{{ subject.title() }}
            </option>
            {% endfor %}
          </select>
        </div>
        <button type="submit" class="btn btn-primary w-full rounded-lg shadow">Update Note</button>
      </form>
      {% if message %}
      <div class="alert alert-success mt-4 flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <span>{{ message }}</span>
      </div>
      {% endif %}
    </div>
  </div>
</body>

</html>
